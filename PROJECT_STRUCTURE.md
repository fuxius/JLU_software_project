# é¡¹ç›®ç»“æ„è¯´æ˜

```
JLU_software_project/
â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»è¦æ–‡æ¡£
â”œâ”€â”€ QUICK_START.md              # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ PROJECT_STRUCTURE.md       # é¡¹ç›®ç»“æ„è¯´æ˜ (æœ¬æ–‡ä»¶)
â”œâ”€â”€ database_design.md         # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ pyproject.toml             # Pythoné¡¹ç›®é…ç½®å’Œä¾èµ–ç®¡ç†
â”œâ”€â”€ uv.lock                    # uvé”å®šæ–‡ä»¶
â”œâ”€â”€ env.example               # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .env                      # ç¯å¢ƒå˜é‡æ–‡ä»¶ (gitå¿½ç•¥)
â”œâ”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ scripts/                 # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ init-dev.sh         # å¼€å‘ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ start-dev.sh        # å¼€å‘æœåŠ¡å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ backend/                 # åç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ run.py              # åç«¯å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ app/                # FastAPIåº”ç”¨
â”‚       â”œâ”€â”€ main.py         # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”‚
â”‚       â”œâ”€â”€ core/           # æ ¸å¿ƒé…ç½®æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ config.py   # åº”ç”¨é…ç½®
â”‚       â”‚   â”œâ”€â”€ security.py # å®‰å…¨ç›¸å…³(JWT, å¯†ç å“ˆå¸Œç­‰)
â”‚       â”‚   â””â”€â”€ deps.py     # ä¾èµ–æ³¨å…¥(è®¤è¯, æƒé™ç­‰)
â”‚       â”‚
â”‚       â”œâ”€â”€ db/             # æ•°æ®åº“ç›¸å…³
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ database.py # æ•°æ®åº“è¿æ¥é…ç½®
â”‚       â”‚
â”‚       â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹(SQLAlchemy ORM)
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ user.py     # ç”¨æˆ·æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ campus.py   # æ ¡åŒºæ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ coach.py    # æ•™ç»ƒæ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ student.py  # å­¦å‘˜æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ coach_student.py    # æ•™ç»ƒå­¦å‘˜å…³ç³»
â”‚       â”‚   â”œâ”€â”€ course.py   # è¯¾ç¨‹æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ booking.py  # é¢„çº¦æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ payment.py  # æ”¯ä»˜æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ evaluation.py      # è¯„ä»·æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ competition.py     # æ¯”èµ›æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ system_log.py      # ç³»ç»Ÿæ—¥å¿—æ¨¡å‹
â”‚       â”‚   â””â”€â”€ license.py  # è®¸å¯è¯æ¨¡å‹
â”‚       â”‚
â”‚       â”œâ”€â”€ schemas/        # Pydanticæ•°æ®ä¼ è¾“å¯¹è±¡
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ user.py     # ç”¨æˆ·ç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ campus.py   # æ ¡åŒºç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ coach.py    # æ•™ç»ƒç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ student.py  # å­¦å‘˜ç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ booking.py  # é¢„çº¦ç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ payment.py  # æ”¯ä»˜ç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ evaluation.py      # è¯„ä»·ç›¸å…³Schema
â”‚       â”‚   â”œâ”€â”€ competition.py     # æ¯”èµ›ç›¸å…³Schema
â”‚       â”‚   â””â”€â”€ system_log.py      # æ—¥å¿—ç›¸å…³Schema
â”‚       â”‚
â”‚       â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ user_service.py     # ç”¨æˆ·æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ campus_service.py   # æ ¡åŒºæœåŠ¡
â”‚       â”‚   â”œâ”€â”€ coach_service.py    # æ•™ç»ƒæœåŠ¡
â”‚       â”‚   â”œâ”€â”€ student_service.py  # å­¦å‘˜æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ booking_service.py  # é¢„çº¦æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ payment_service.py  # æ”¯ä»˜æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ evaluation_service.py   # è¯„ä»·æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ competition_service.py  # æ¯”èµ›æœåŠ¡
â”‚       â”‚   â””â”€â”€ system_log_service.py   # æ—¥å¿—æœåŠ¡
â”‚       â”‚
â”‚       â”œâ”€â”€ api/            # APIè·¯ç”±å±‚
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ auth/       # è®¤è¯ç›¸å…³API
â”‚       â”‚   â”‚   â””â”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ v1/         # APIç‰ˆæœ¬1
â”‚       â”‚       â”œâ”€â”€ __init__.py
â”‚       â”‚       â”œâ”€â”€ auth.py      # è®¤è¯è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ users.py     # ç”¨æˆ·ç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ campus.py    # æ ¡åŒºç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ coaches.py   # æ•™ç»ƒç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ students.py  # å­¦å‘˜ç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ bookings.py  # é¢„çº¦ç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ payments.py  # æ”¯ä»˜ç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ evaluations.py   # è¯„ä»·ç®¡ç†è·¯ç”±
â”‚       â”‚       â”œâ”€â”€ competitions.py  # æ¯”èµ›ç®¡ç†è·¯ç”±
â”‚       â”‚       â””â”€â”€ system_logs.py   # ç³»ç»Ÿæ—¥å¿—è·¯ç”±
â”‚       â”‚
â”‚       â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ helpers.py  # é€šç”¨è¾…åŠ©å‡½æ•°
â”‚           â”œâ”€â”€ validators.py    # æ•°æ®éªŒè¯å™¨
â”‚           â””â”€â”€ constants.py     # å¸¸é‡å®šä¹‰
â”‚
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ package.json       # Node.jsé¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ tsconfig.json      # TypeScripté…ç½®
â”‚   â”œâ”€â”€ vite.config.ts     # Viteæ„å»ºé…ç½®
â”‚   â”œâ”€â”€ index.html         # HTMLæ¨¡æ¿
â”‚   â”‚
â”‚   â”œâ”€â”€ public/            # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ favicon.ico
â”‚   â”‚
â”‚   â””â”€â”€ src/               # æºä»£ç ç›®å½•
â”‚       â”œâ”€â”€ main.ts        # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ App.vue        # æ ¹ç»„ä»¶
â”‚       â”‚
â”‚       â”œâ”€â”€ types/         # TypeScriptç±»å‹å®šä¹‰
â”‚       â”‚   â””â”€â”€ index.ts   # å…¨å±€ç±»å‹å®šä¹‰
â”‚       â”‚
â”‚       â”œâ”€â”€ api/           # APIæ¥å£å±‚
â”‚       â”‚   â”œâ”€â”€ request.ts # HTTPè¯·æ±‚å°è£…
â”‚       â”‚   â”œâ”€â”€ auth.ts    # è®¤è¯ç›¸å…³API
â”‚       â”‚   â””â”€â”€ campus.ts  # æ ¡åŒºç›¸å…³API
â”‚       â”‚
â”‚       â”œâ”€â”€ store/         # PiniaçŠ¶æ€ç®¡ç†
â”‚       â”‚   â””â”€â”€ user.ts    # ç”¨æˆ·çŠ¶æ€ç®¡ç†
â”‚       â”‚
â”‚       â”œâ”€â”€ router/        # Vue Routerè·¯ç”±é…ç½®
â”‚       â”‚   â””â”€â”€ index.ts   # è·¯ç”±å®šä¹‰
â”‚       â”‚
â”‚       â”œâ”€â”€ components/    # å¯å¤ç”¨ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ common/    # é€šç”¨ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ user/      # ç”¨æˆ·ç›¸å…³ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ admin/     # ç®¡ç†å‘˜ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ coach/     # æ•™ç»ƒç»„ä»¶
â”‚       â”‚   â””â”€â”€ student/   # å­¦å‘˜ç»„ä»¶
â”‚       â”‚
â”‚       â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ auth/      # è®¤è¯é¡µé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ Login.vue    # ç™»å½•é¡µ
â”‚       â”‚   â”‚   â””â”€â”€ Register.vue # æ³¨å†Œé¡µ
â”‚       â”‚   â”œâ”€â”€ user/      # ç”¨æˆ·é¡µé¢
â”‚       â”‚   â”‚   â””â”€â”€ Profile.vue  # ä¸ªäººä¿¡æ¯é¡µ
â”‚       â”‚   â”œâ”€â”€ admin/     # ç®¡ç†å‘˜é¡µé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ Layout.vue          # ç®¡ç†å‘˜å¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ CampusManagement.vue    # æ ¡åŒºç®¡ç†
â”‚       â”‚   â”‚   â””â”€â”€ UserManagement.vue     # ç”¨æˆ·ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ student/   # å­¦å‘˜é¡µé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ Layout.vue      # å­¦å‘˜å¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ CoachList.vue   # æ•™ç»ƒåˆ—è¡¨
â”‚       â”‚   â”‚   â”œâ”€â”€ Bookings.vue    # æˆ‘çš„é¢„çº¦
â”‚       â”‚   â”‚   â”œâ”€â”€ Payments.vue    # è´¦æˆ·å……å€¼
â”‚       â”‚   â”‚   â””â”€â”€ Competitions.vue # æ¯”èµ›æŠ¥å
â”‚       â”‚   â”œâ”€â”€ coach/     # æ•™ç»ƒé¡µé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ Layout.vue      # æ•™ç»ƒå¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ Students.vue    # æˆ‘çš„å­¦å‘˜
â”‚       â”‚   â”‚   â”œâ”€â”€ Bookings.vue    # è¯¾ç¨‹å®‰æ’
â”‚       â”‚   â”‚   â””â”€â”€ Evaluations.vue # è¯¾åè¯„ä»·
â”‚       â”‚   â”œâ”€â”€ error/     # é”™è¯¯é¡µé¢
â”‚       â”‚   â”‚   â””â”€â”€ NotFound.vue    # 404é¡µé¢
â”‚       â”‚   â””â”€â”€ Dashboard.vue       # ä»ªè¡¨æ¿é¡µé¢
â”‚       â”‚
â”‚       â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚           â”œâ”€â”€ helpers.ts # é€šç”¨è¾…åŠ©å‡½æ•°
â”‚           â”œâ”€â”€ constants.ts    # å¸¸é‡å®šä¹‰
â”‚           â””â”€â”€ validators.ts   # è¡¨å•éªŒè¯å™¨
â”‚
â”œâ”€â”€ tests/                 # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ backend/          # åç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_auth.py  # è®¤è¯æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_users.py # ç”¨æˆ·æµ‹è¯•
â”‚   â””â”€â”€ frontend/         # å‰ç«¯æµ‹è¯•
â”‚       â””â”€â”€ unit/         # å•å…ƒæµ‹è¯•
â”‚
â”œâ”€â”€ alembic/              # æ•°æ®åº“è¿ç§»æ–‡ä»¶ (è¿è¡Œåç”Ÿæˆ)
â”‚   â”œâ”€â”€ versions/         # è¿ç§»ç‰ˆæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ env.py           # Alembicç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ alembic.ini      # Alembicé…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ uploads/              # æ–‡ä»¶ä¸Šä¼ ç›®å½• (è¿è¡Œåç”Ÿæˆ)
â”‚   â”œâ”€â”€ avatars/         # ç”¨æˆ·å¤´åƒ
â”‚   â””â”€â”€ documents/       # æ–‡æ¡£æ–‡ä»¶
â”‚
â””â”€â”€ logs/                 # æ—¥å¿—æ–‡ä»¶ç›®å½• (è¿è¡Œåç”Ÿæˆ)
    â”œâ”€â”€ app.log          # åº”ç”¨æ—¥å¿—
    â””â”€â”€ error.log        # é”™è¯¯æ—¥å¿—
```

## ğŸ—ï¸ æ¶æ„è¯´æ˜

### åç«¯æ¶æ„ (FastAPI)

é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼š

1. **APIå±‚** (`api/`): å¤„ç†HTTPè¯·æ±‚ï¼Œå‚æ•°éªŒè¯ï¼Œå“åº”æ ¼å¼åŒ–
2. **æœåŠ¡å±‚** (`services/`): ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œäº‹åŠ¡ç®¡ç†
3. **æ¨¡å‹å±‚** (`models/`): æ•°æ®æ¨¡å‹å®šä¹‰ï¼Œæ•°æ®åº“æ˜ å°„
4. **æ ¸å¿ƒå±‚** (`core/`): é…ç½®ç®¡ç†ï¼Œå®‰å…¨è®¤è¯ï¼Œä¾èµ–æ³¨å…¥

### å‰ç«¯æ¶æ„ (Vue 3)

é‡‡ç”¨ç»„ä»¶åŒ–æ¶æ„ï¼š

1. **è§†å›¾å±‚** (`views/`): é¡µé¢çº§ç»„ä»¶ï¼Œè·¯ç”±å¯¹åº”
2. **ç»„ä»¶å±‚** (`components/`): å¯å¤ç”¨UIç»„ä»¶
3. **çŠ¶æ€å±‚** (`store/`): å…¨å±€çŠ¶æ€ç®¡ç†
4. **æœåŠ¡å±‚** (`api/`): APIæ¥å£å°è£…

### æ•°æ®æµ

```
å‰ç«¯ç»„ä»¶ â†’ APIè°ƒç”¨ â†’ åç«¯è·¯ç”± â†’ æœåŠ¡å±‚ â†’ æ•°æ®æ¨¡å‹ â†’ æ•°æ®åº“
    â†‘                                                      â†“
å“åº”æ•°æ® â† JSONå“åº” â† æ•°æ®éªŒè¯ â† ä¸šåŠ¡å¤„ç† â† æ•°æ®æŸ¥è¯¢ â† SQLæ‰§è¡Œ
```

## ğŸ“ å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ

- **æ–‡ä»¶å**: å°å†™+ä¸‹åˆ’çº¿ (å¦‚: `user_service.py`)
- **ç±»å**: å¤§é©¼å³° (å¦‚: `UserService`)
- **å‡½æ•°å**: å°å†™+ä¸‹åˆ’çº¿ (å¦‚: `get_user_by_id`)
- **å˜é‡å**: å°å†™+ä¸‹åˆ’çº¿ (å¦‚: `user_id`)
- **å¸¸é‡å**: å¤§å†™+ä¸‹åˆ’çº¿ (å¦‚: `MAX_FILE_SIZE`)

### ç›®å½•è§„èŒƒ

- æ¯ä¸ªç›®å½•éƒ½æœ‰ `__init__.py` æ–‡ä»¶
- ç›¸å…³åŠŸèƒ½æ¨¡å—æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹
- æµ‹è¯•æ–‡ä»¶ä¸æºæ–‡ä»¶ç›®å½•ç»“æ„ä¿æŒä¸€è‡´

### å¯¼å…¥è§„èŒƒ

```python
# æ ‡å‡†åº“å¯¼å…¥
from typing import List, Optional

# ç¬¬ä¸‰æ–¹åº“å¯¼å…¥
from fastapi import APIRouter, Depends
from sqlalchemy.orm import Session

# æœ¬åœ°å¯¼å…¥
from ..models.user import User
from ..services.user_service import UserService
```

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

1. åœ¨ `models/` ä¸­å®šä¹‰æ•°æ®æ¨¡å‹
2. åœ¨ `schemas/` ä¸­å®šä¹‰è¯·æ±‚/å“åº”æ¨¡å¼
3. åœ¨ `services/` ä¸­å®ç°ä¸šåŠ¡é€»è¾‘
4. åœ¨ `api/v1/` ä¸­åˆ›å»ºAPIè·¯ç”±
5. åœ¨å‰ç«¯æ·»åŠ å¯¹åº”çš„é¡µé¢å’Œç»„ä»¶

### æ·»åŠ æ–°çš„ç”¨æˆ·è§’è‰²

1. ä¿®æ”¹ `models/user.py` ä¸­çš„ `UserRole` æšä¸¾
2. æ›´æ–° `core/deps.py` ä¸­çš„æƒé™æ£€æŸ¥å‡½æ•°
3. åœ¨å‰ç«¯è·¯ç”±ä¸­æ·»åŠ è§’è‰²æƒé™é…ç½®
4. åˆ›å»ºå¯¹åº”çš„å‰ç«¯é¡µé¢å’Œèœå•

---

è¿™ä¸ªé¡¹ç›®ç»“æ„éµå¾ªäº†ç°ä»£Webå¼€å‘çš„æœ€ä½³å®è·µï¼Œå…·æœ‰è‰¯å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚
